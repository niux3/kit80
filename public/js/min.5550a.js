!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./public/",t(t.s=0)}([function(e,t,n){n(1),e.exports=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);window.addEventListener("DOMContentLoaded",function(){(new r.a).newGame(),document.getElementById("new").addEventListener("click",function(){window.location="/"})})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(3),u=n(6),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this._model=new u.a,this._players=[],this._continue=!0,this._counter=0}return i(e,[{key:"newGame",value:function(){for(var e=this,t=1;t<=2;t++){var n=prompt("indiquer le prÃ©nom du joueur "+t+" :");this._players[t]=new o.a(n,t)}Array.prototype.slice.call(document.querySelectorAll("tr"),0);(this._model.get()[this._model.get().length-1].indexOf(1)||this._model.get()[this._model.get().length-1].indexOf(2))&&this._reset(),document.querySelector("table").addEventListener("click",function(t){for(var n="img"===t.target.nodeName.toLowerCase()?t.target.parentNode:t.target,r=n.parentNode.querySelectorAll("td"),o=0;o<r.length;o++)if(r[o]===n){var u=e._counter%2+1;e._play(u,o),e._counter+=1}})}},{key:"_play",value:function(e,t){for(var n=this._model.get(),r=n.length-1;r>=0;r--)if(0===n[r][t]){document.querySelectorAll("tr")[r].querySelectorAll("td")[t].setAttribute("data-value",e),document.querySelectorAll("tr")[r].querySelectorAll("td")[t].querySelector("img").src="/img/_"+e+".png",this._model.set(r,t,e),this._players[e].substractToken(),this._check()&&alert(this._players[e].getName()+" gagne !");break}}},{key:"_reset",value:function(){this._model.reset(),this._counter=0,Array.prototype.slice.call(document.querySelectorAll("tr"),0).forEach(function(e,t){Array.prototype.slice.call(e.querySelectorAll("td"),0).forEach(function(e,t){e.querySelector("img").src="/img/_0.png"})})}},{key:"_check",value:function(){for(var e=this,t=!1,n=this._model.get(),r=n.length,o=n[0].length,u=[[1,0],[-1,0],[0,1],[0,-1],[1,1],[-1,1],[1,-1],[-1,-1]],i=0;i<r;i++)!function(r){for(var i=0;i<o;i++)!function(o){var i=Number(document.querySelectorAll("tr")[r].querySelectorAll("td")[o].getAttribute("data-value").trim());u.forEach(function(u,a){var c=u[1],l=u[0];!0===e._compare(c,l,r,o,n,i)&&(t=!0)})}(i)}(i);return t}},{key:"_compare",value:function(e,t,n,r,o,u){var i=[u];if(0<=3*e+n<o.length&&0<=3*t+n<o[0].length)for(var a=1;a<=3;a++){var c=e*a+n,l=t*a+r;if(void 0!==o[c]&&void 0!==o[c][l]&&u>0&&u===o[c][l]&&(i.push(u),4===i.length&&i.reduce(function(e,t){return e+t},0)===4*u))return!0}}}]),e}();t.a=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(4),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this._name=t,this._tokens=new o.a(n)}return u(e,[{key:"getName",value:function(){return this._name}},{key:"substractToken",value:function(){this._tokens.substract()}}]),e}();t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(5),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this._groups=[];for(var n=0;n<21;n++)this._groups.push(new o.a(t))}return u(e,[{key:"getLen",value:function(){return this._groups.length}},{key:"substract",value:function(){this._groups.pop()}}]),e}();t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){r(this,e),this._id=t}return o(e,[{key:"getId",value:function(){return this._id}}]),e}();t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){r(this,e),this._data=[],this.reset()}return o(e,[{key:"get",value:function(){return this._data}},{key:"set",value:function(e,t,n){this._data[e][t]=n}},{key:"reset",value:function(){this._data=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]]}}]),e}();t.a=u},function(e,t){}]);